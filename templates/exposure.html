{% extends "base.html" %}

{% block title %}Exposición - Proyecto Laplace{% endblock %}

{% block content %}
<div class="scroll-container">

    <section class="slide-section" id="sec-caratula">
        <div class="content-box center-text animate-up">
            <img src="/static/img/untels_logo.png" alt="Logo UNTELS" class="slide-logo">
            <h4>UNIVERSIDAD NACIONAL TECNOLÓGICA DE LIMA SUR</h4>
            
            <h1 class="main-title">USO DE LA TRANSFORMADA DE LAPLACE</h1>
            <h2 class="subtitle">En el Modelado y Control de Sistemas Computacionales</h2>
            
            <div class="team-container">
                <p class="team-label">INTEGRANTES:</p>
                <ul class="team-list">
                    <li>Camacho Aquino, Gabriel Orlando</li>
                    <li>Alcantara Condori, Adrian Gonzalo</li>
                    <li>Gomez Ramirez, Sebastian Andrey</li>
                    <li>Leyva Salas, Jose Antonio</li>
                </ul>
            </div>
            
            <div class="scroll-indicator">
                <span>Comenzar</span>
                <i class='bx bx-chevron-down bouncing'></i>
            </div>
        </div>
    </section>

    <section class="slide-section" id="sec-intro">
        <div class="content-box center-text animate-up">
            <div class="section-header">
                <i class='bx bx-bulb icon-header'></i>
                <h2>Introducción y Contexto</h2>
            </div>

            <div class="intro-grid">
                <div class="intro-item">
                    <div class="intro-icon"><i class='bx bxs-server'></i></div>
                    <h3>El Problema</h3>
                    <p>Modelar matemáticamente el comportamiento térmico es complejo debido a la naturaleza dinámica del sistema. Los métodos tradicionales pueden presentar retardos o inestabilidades.</p>
                </div>
                
                <div class="intro-arrow"><i class='bx bx-right-arrow-alt'></i></div>

                <div class="intro-item highlight">
                    <div class="intro-icon"><i class='bx bx-math'></i></div>
                    <h3>La Solución Matemática</h3>
                    <p>Surge la necesidad de aplicar la Transformada de Laplace, que permite representar y analizar las ecuaciones diferenciales que describen la evolución de la temperatura de manera algebraica.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="slide-section" id="sec-objetivos">
        <div class="content-box left-text animate-right">
            <div class="section-header">
                <i class='bx bx-target-lock icon-header'></i>
                <h2>Planteamiento de Objetivos</h2>
            </div>
            
            <div class="split-layout">
                <div class="card-obj main-obj">
                    <h3><i class='bx bxs-flag-alt'></i> Objetivo General</h3>
                    <p>Aplicar la Transformada de Laplace para modelar y diseñar un sistema de control computacional capaz de regular eficientemente la temperatura de un servidor.</p>
                </div>
                
                <div class="card-obj specific-obj">
                    <h3><i class='bx bx-list-check'></i> Objetivos Específicos</h3>
                    <ul>
                        <li>Representar matemáticamente el comportamiento térmico mediante ecuaciones diferenciales.</li>
                        <li>Utilizar la Transformada de Laplace para simplificar el análisis del sistema.</li>
                        <li>Diseñar una simulación del control de temperatura (Software).</li>
                        <li>Validar los resultados mediante gráficos y análisis de estabilidad.</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section class="slide-section" id="sec-justificacion">
        <div class="content-box center-text animate-up">
            <div class="section-header">
                <i class='bx bx-shield-quarter icon-header'></i>
                <h2>Justificación del Proyecto</h2>
            </div>
            
            <p class="intro-p">La gestión térmica es crítica para evitar fallos por sobrecalentamiento y garantizar la estabilidad operativa de los servidores.</p>

            <div class="just-grid">
                <div class="just-card">
                    <div class="card-icon"><i class='bx bx-book-bookmark'></i></div>
                    <h3>Justificación Teórica</h3>
                    <p>Se aplica la <strong>Transformada de Laplace</strong> y ecuaciones diferenciales para modelar la dinámica de temperatura. Esto permite analizar la respuesta del sistema ante perturbaciones sin necesidad de hardware físico complejo.</p>
                </div>

                <div class="just-card">
                    <div class="card-icon"><i class='bx bx-chip'></i></div>
                    <h3>Justificación Práctica</h3>
                    <p>La implementación de una <strong>simulación en software</strong> permite visualizar el impacto de los coeficientes físicos (pérdidas y rigidez térmica) sin riesgo para el equipo real, facilitando el diseño de estrategias de refrigeración eficientes.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="slide-section" id="sec-math">
        <div class="content-box animate-left">
            <div class="section-header">
                <i class='bx bx-function icon-header'></i>
                <h2>Matematización: Ecuaciones Diferenciales</h2>
            </div>
            
            <p class="math-intro">El sistema se modela, en primera aproximación, como un sistema de primer orden mediante la siguiente Ecuación Diferencial Ordinaria (EDO):</p>

            <div class="math-showcase single-eq">
                <div class="formula big-formula">
                    $$ \tau \frac{dT(t)}{dt} + T(t) = K \cdot u(t) $$
                </div>
            </div>

            <div class="variable-grid">
                <div class="var-item">
                    <span class="var-name">$$ T(t) $$</span>
                    <span class="var-desc">Temperatura del procesador en el tiempo t.</span>
                </div>
                <div class="var-item">
                    <span class="var-name">$$ u(t) $$</span>
                    <span class="var-desc">Señal de entrada (Carga o potencia disipada).</span>
                </div>
                <div class="var-item">
                    <span class="var-name">$$ K $$</span>
                    <span class="var-desc">Ganancia térmica del sistema.</span>
                </div>
                <div class="var-item">
                    <span class="var-name">$$ \tau $$</span>
                    <span class="var-desc">Constante de tiempo térmica (rapidez de intercambio).</span>
                </div>
            </div>
        </div>
    </section>

    <section class="slide-section" id="sec-rep-math">
        <div class="content-box animate-up">
            <div class="section-header">
                <i class='bx bx-bracket icon-header'></i>
                <h2>Representación Matemática</h2>
            </div>
            
            <p>Aplicando la Transformada de Laplace a la ecuación diferencial con condiciones iniciales nulas $T(0)=0$:</p>

            <div class="math-steps-container">
                <div class="math-step-card">
                    <span class="step-badge">Paso 1</span>
                    <p>Aplicar Laplace a ambos lados:</p>
                    <div class="latex-eq">
                        $$ \mathcal{L}\{\tau T'(t) + T(t)\} = \tau(sT(s) - T(0)) + T(s) $$
                    </div>
                </div>

                <div class="math-step-card">
                    <span class="step-badge">Paso 2</span>
                    <p>Factorizar T(s) en el dominio de frecuencia:</p>
                    <div class="latex-eq">
                        $$ (\tau s + 1)T(s) = K U(s) $$
                    </div>
                </div>

                <div class="math-step-card highlight">
                    <span class="step-badge">Resultado</span>
                    <p>Función de Transferencia G(s):</p>
                    <div class="latex-eq big">
                        $$ G(s) = \frac{T(s)}{U(s)} = \frac{K}{\tau s + 1} $$
                    </div>
                </div>
            </div>

            <p class="small-note">Si la entrada es un escalón unitario $u(t)=1$, la respuesta temporal inversa es: <br> 
            <strong>$$ T(t) = K(1 - e^{-t/\tau}) $$</strong></p>
        </div>
    </section>

    <section class="slide-section" id="sec-calculos">
        <div class="content-box animate-right">
            <div class="section-header">
                <i class='bx bx-calculator icon-header'></i>
                <h2>Cálculos Paso a Paso (Método Numérico)</h2>
            </div>
            
            <p class="math-intro">Para la simulación en software, resolvemos la ecuación utilizando el método de <strong>Euler Explícito</strong>:</p>

            <div class="calc-timeline">
                
                <div class="calc-item">
                    <div class="calc-num">1</div>
                    <div class="calc-text">
                        <h4>Definir Parámetros</h4>
                        <p>Condiciones iniciales ejemplo: $T(0)=40^\circ C$, $K=20$, $\tau=5s$. Entrada escalón $u(t)=1$.</p>
                    </div>
                </div>

                <div class="calc-item">
                    <div class="calc-num">2</div>
                    <div class="calc-text">
                        <h4>Despejar Derivada</h4>
                        <p>A partir del modelo diferencial, despejamos la tasa de cambio:</p>
                        <div class="mini-eq">
                            $$ \frac{dT}{dt} = \frac{-T(t) + K u(t)}{\tau} $$
                        </div>
                    </div>
                </div>

                <div class="calc-item">
                    <div class="calc-num">3</div>
                    <div class="calc-text">
                        <h4>Fórmula de Euler</h4>
                        <p>Discretizamos el tiempo con un paso $\Delta t$. La fórmula iterativa es:</p>
                        <div class="mini-eq">
                            $$ T_{k+1} = T_{k} + \Delta t \left( \frac{-T_{k} + K u_{k}}{\tau} \right) $$
                        </div>
                    </div>
                </div>

                <div class="calc-item">
                    <div class="calc-num">4</div>
                    <div class="calc-text">
                        <h4>Iteración</h4>
                        <p>El software calcula $T_k$ repetidamente desde $t=0$ hasta $t_{max}$ para generar la gráfica.</p>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <section class="slide-section" id="sec-solucion">
        <div class="content-box center-text animate-up">
            <div class="section-header">
                <i class='bx bx-laptop icon-header'></i>
                <h2>Solución Implementada</h2>
            </div>

            <div class="solution-layout">
                <div class="sol-text">
                    <p>Se desarrolló una aplicación web interactiva utilizando <strong>Python (FastAPI)</strong>. El programa simula la evolución térmica bajo condiciones de carga constante.</p>
                    <ul class="sol-features">
                        <li><i class='bx bxs-data'></i> <strong>Datos Iniciales:</strong> $T(0)$, $K$, $\tau$, $u(t)$.</li>
                        <li><i class='bx bxs-cog'></i> <strong>Procesamiento:</strong> Cálculo de la solución analítica y numérica en tiempo real.</li>
                        <li><i class='bx bxs-graph'></i> <strong>Resultados:</strong> Gráficas que muestran cómo la temperatura alcanza el equilibrio.</li>
                    </ul>
                    <a href="{{ url_for('simulation') }}" class="btn-demo">IR A LA SIMULACIÓN</a>
                </div>
                <div class="sol-visual">
                    <div class="screen-mockup">
                        <div class="bar"></div>
                        <div class="chart-area">
                            <svg viewBox="0 0 100 50" class="curve-svg">
                                <path d="M0,50 Q20,40 40,15 T100,10" fill="none" stroke="#E38E49" stroke-width="2"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="slide-section" id="sec-conclusiones">
        <div class="content-box animate-up">
            <div class="section-header">
                <i class='bx bx-notepad icon-header'></i>
                <h2>Conclusiones</h2>
            </div>

            <div class="conclusions-grid">
                <div class="conc-card">
                    <h3>Herramienta Fundamental</h3>
                    <p>La Transformada de Laplace convirtió la ecuación diferencial en una función de transferencia algebraica, simplificando drásticamente la predicción de la temperatura sin resolver EDOs manualmente.</p>
                </div>
                <div class="conc-card">
                    <h3>Comportamiento del Sistema</h3>
                    <p>Se determinó que el sistema térmico es estable de primer orden. La temperatura no crece indefinidamente, sino que alcanza un equilibrio definido por la ganancia $K$.</p>
                </div>
                <div class="conc-card">
                    <h3>Validación Digital</h3>
                    <p>La implementación en FastAPI validó el modelo teórico. Las gráficas del software coincidieron con la solución analítica, demostrando la viabilidad de crear "gemelos digitales" básicos.</p>
                </div>
            </div>
            
            <h3 class="final-thankyou">¡GRACIAS!</h3>
        </div>
    </section>

</div>

<div class="side-nav">
    <a href="#sec-caratula" class="dot active" title="Inicio"></a>
    <a href="#sec-intro" class="dot" title="Introducción"></a>
    <a href="#sec-objetivos" class="dot" title="Objetivos"></a>
    <a href="#sec-justificacion" class="dot" title="Justificación"></a>
    <a href="#sec-math" class="dot" title="Matematización"></a>
    <a href="#sec-rep-math" class="dot" title="Rep. Matemática"></a>
    <a href="#sec-calculos" class="dot" title="Cálculos"></a>
    <a href="#sec-solucion" class="dot" title="Solución"></a>
    <a href="#sec-conclusiones" class="dot" title="Conclusiones"></a>
</div>

<script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']], // Permitir $ como delimitador
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      }
    };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const sections = document.querySelectorAll('.slide-section');
        const dots = document.querySelectorAll('.side-nav .dot');

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.getAttribute('id');
                    dots.forEach(dot => {
                        dot.classList.remove('active');
                        if (dot.getAttribute('href') === '#' + id) {
                            dot.classList.add('active');
                        }
                    });
                }
            });
        }, { threshold: 0.5 });

        sections.forEach(section => observer.observe(section));
    });
</script>

<style>
    /* ... TUS ESTILOS PREVIOS SE MANTIENEN IGUAL ... */
    /* Solo agrego un ajuste para que las fórmulas se vean bien grandes */
    
    .latex-eq { font-size: 1.3rem; margin: 15px 0; color: #fff; }
    .latex-eq.big { font-size: 1.8rem; font-weight: bold; color: var(--color-secondary); }
    
    /* === ESTILOS BASE (Repetidos para asegurar que funcione al copiar solo este bloque) === */
    html { scroll-behavior: smooth; }
    
    .scroll-container {
        width: 100%;
        height: calc(100vh - var(--header-height));
        overflow-y: scroll;
        scroll-snap-type: y mandatory;
        position: relative;
    }

    .slide-section {
        width: 100%;
        min-height: calc(100vh - var(--header-height)); 
        scroll-snap-align: start;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 40px;
        position: relative;
        background: radial-gradient(circle at center, #1F509A 0%, #152d55 100%);
        color: white;
    }

    .slide-section:nth-child(even) {
        background: radial-gradient(circle at center, #1b3d75 0%, #0f2242 100%);
    }

    .content-box { width: 100%; max-width: 1100px; z-index: 2; }
    .center-text { text-align: center; }
    .left-text { text-align: left; }

    /* === TIPOGRAFÍA === */
    .main-title { font-size: 3rem; font-weight: 900; color: var(--color-secondary); margin: 10px 0; text-transform: uppercase; line-height: 1.1; }
    .subtitle { font-size: 1.5rem; font-weight: 300; color: #ddd; margin-bottom: 30px; }
    
    .section-header { display: inline-flex; align-items: center; gap: 15px; margin-bottom: 30px; border-bottom: 2px solid var(--color-secondary); padding-bottom: 10px; }
    .section-header h2 { font-size: 2.2rem; margin: 0; }
    .icon-header { font-size: 2.5rem; color: var(--color-secondary); }

    /* === CARÁTULA === */
    .slide-logo { height: 80px; margin-bottom: 20px; filter: drop-shadow(0 0 10px rgba(255,255,255,0.5)); }
    .team-container { background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px; display: inline-block; border: 1px solid rgba(255,255,255,0.2); }
    .team-label { color: var(--color-secondary); font-weight: bold; margin-bottom: 10px; letter-spacing: 2px; }
    .team-list li { margin: 5px 0; font-size: 1.1rem; }
    .scroll-indicator { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); display: flex; flex-direction: column; align-items: center; opacity: 0.7; font-size: 0.8rem; }
    .bouncing { font-size: 2rem; animation: bounce 2s infinite; color: var(--color-secondary); }

    /* === OBJETIVOS === */
    .split-layout { display: flex; gap: 30px; margin-top: 20px; }
    .card-obj { background: rgba(255,255,255,0.05); padding: 25px; border-radius: 15px; border-left: 5px solid var(--color-secondary); flex: 1; transition: 0.3s; }
    .card-obj:hover { background: rgba(255,255,255,0.1); transform: translateY(-5px); }
    .card-obj h3 { color: var(--color-secondary); margin-bottom: 15px; font-size: 1.3rem; display: flex; align-items: center; gap: 10px; }
    .specific-obj ul { list-style: disc; padding-left: 20px; line-height: 1.5; }

    /* === JUSTIFICACIÓN === */
    .intro-p { font-size: 1.2rem; margin-bottom: 30px; max-width: 800px; margin-left: auto; margin-right: auto; }
    .just-grid { display: flex; gap: 30px; justify-content: center; }
    .just-card { background: rgba(255,255,255,0.05); padding: 30px; border-radius: 15px; width: 45%; text-align: center; border: 1px solid rgba(255,255,255,0.1); transition: 0.3s; }
    .just-card:hover { border-color: var(--color-secondary); transform: scale(1.02); }
    .card-icon { font-size: 3rem; color: var(--color-secondary); margin-bottom: 15px; }
    .just-card h3 { margin-bottom: 15px; font-size: 1.3rem; }

    /* === INTRODUCCIÓN === */
    .intro-grid { display: flex; align-items: center; justify-content: center; gap: 30px; margin-top: 20px; }
    .intro-item { background: rgba(0,0,0,0.2); padding: 25px; border-radius: 20px; width: 350px; text-align: center; border: 1px solid rgba(255,255,255,0.1); }
    .intro-item.highlight { background: rgba(227, 142, 73, 0.1); border-color: var(--color-secondary); }
    .intro-icon { font-size: 3rem; margin-bottom: 10px; color: var(--color-secondary); }
    .intro-arrow { font-size: 2.5rem; color: rgba(255,255,255,0.5); }

    /* === MATEMATIZACIÓN === */
    .math-intro { font-size: 1.1rem; margin-bottom: 20px; }
    .math-showcase { background: rgba(255,255,255,0.05); padding: 20px; border-radius: 15px; display: inline-block; margin: 20px 0; border: 1px solid var(--color-secondary); }
    .big-formula { font-size: 1.5rem; } /* MathJax lo ajustará */
    .variable-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px; text-align: left; }
    .var-item { background: rgba(255,255,255,0.05); padding: 15px; border-radius: 10px; display: flex; flex-direction: column; }
    .var-name { color: var(--color-secondary); font-weight: bold; font-size: 1.2rem; }

    /* === REPRESENTACIÓN MATEMÁTICA === */
    .math-steps-container { display: flex; justify-content: space-between; gap: 20px; margin-top: 30px; }
    .math-step-card { flex: 1; background: rgba(255,255,255,0.05); padding: 20px; border-radius: 15px; text-align: center; border: 1px solid transparent; }
    .math-step-card.highlight { background: rgba(227, 142, 73, 0.1); border-color: var(--color-secondary); }
    .step-badge { background: var(--color-secondary); padding: 5px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: bold; text-transform: uppercase; margin-bottom: 10px; display: inline-block; }
    .small-note { margin-top: 30px; font-size: 1rem; opacity: 0.8; }

    /* === CÁLCULOS PASO A PASO === */
    .calc-timeline { display: flex; flex-direction: column; gap: 15px; margin-top: 20px; }
    .calc-item { display: flex; align-items: center; gap: 20px; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 10px; transition: 0.3s; }
    .calc-item:hover { background: rgba(255,255,255,0.1); transform: translateX(10px); }
    .calc-num { width: 40px; height: 40px; background: var(--color-secondary); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2rem; flex-shrink: 0; }
    .calc-text h4 { margin: 0 0 5px 0; color: var(--color-secondary); }
    .calc-text p { margin: 0; font-size: 0.95rem; }
    .mini-eq { background: rgba(0,0,0,0.2); padding: 5px; border-radius: 5px; display: inline-block; margin-top: 5px; }

    /* === SOLUCIÓN === */
    .solution-layout { display: flex; align-items: center; gap: 40px; text-align: left; }
    .sol-features li { margin-bottom: 10px; display: flex; gap: 10px; align-items: center; }
    .sol-features i { color: var(--color-secondary); }
    .btn-demo { display: inline-block; padding: 12px 30px; background: var(--color-secondary); color: white; font-weight: bold; border-radius: 50px; margin-top: 20px; transition: 0.3s; }
    .btn-demo:hover { background: white; color: var(--color-secondary); }
    .screen-mockup { width: 300px; height: 180px; background: white; border-radius: 10px; position: relative; box-shadow: 0 20px 50px rgba(0,0,0,0.5); overflow: hidden; }
    .screen-mockup .bar { height: 15px; background: #ddd; width: 100%; }
    .chart-area { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; }
    .curve-svg { width: 80%; height: 80%; }

    /* === CONCLUSIONES === */
    .conclusions-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 20px; }
    .conc-card { background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px; text-align: left; border-top: 4px solid var(--color-secondary); font-size: 0.95rem; }
    .conc-card h3 { color: var(--color-secondary); margin-bottom: 10px; font-size: 1.2rem; }
    .final-thankyou { font-size: 3rem; font-weight: 900; margin-top: 40px; opacity: 0.5; }

    /* === NAVEGACIÓN LATERAL === */
    .side-nav { position: fixed; right: 20px; top: 50%; transform: translateY(-50%); display: flex; flex-direction: column; gap: 10px; z-index: 100; }
    .dot { width: 10px; height: 10px; background: rgba(255,255,255,0.3); border-radius: 50%; transition: 0.3s; }
    .dot.active { background: var(--color-secondary); transform: scale(1.3); }

    /* === RESPONSIVE === */
    @media (max-width: 900px) {
        .split-layout, .intro-grid, .just-grid, .variable-grid, .math-steps-container, .solution-layout, .conclusions-grid { flex-direction: column; }
        .slide-section { height: auto; min-height: 100vh; padding: 60px 20px; }
        .just-card, .math-step-card, .intro-item { width: 100%; }
        .side-nav { display: none; }
    }
    
    @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-10px);} 60% {transform: translateY(-5px);} }
</style>

{% endblock %}